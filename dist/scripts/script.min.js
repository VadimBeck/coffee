const modal = (function(){
  let modalBlock = document.querySelector(".modal");
  let body = document.body;
  let active = false;

  function openModal() {
    body.classList.add("locked");
    body.style.paddingRight = scrollWidth()+"px";
    modalBlock.classList.add("is-active");
    active = true;
  }
  function closeModal() {
    body.classList.remove("locked");
    body.style.paddingRight = "0";
    modalBlock.classList.remove("is-active");
    active = false;
  }
  function scrollWidth(){
    let div = document.createElement('div');
    div.style.overflowY = 'scroll';
    div.style.width = '50px';
    div.style.height = '50px';
    div.style.visibility = 'hidden';
    document.body.appendChild(div);
    let width = div.offsetWidth - div.clientWidth;
    document.body.removeChild(div);
    return width;
  }
  document.addEventListener("click", (e)=>{
    if(e.target.classList.contains("modal__close")){
      closeModal();
    }
  })
  document.addEventListener('keydown', function(e){
    if (e.keyCode == 27 && active) {
      closeModal();
    }
  })
  return {
    open : openModal
  }
}());

document.body.addEventListener("click", (e)=> {
  if(e.target.classList.contains("product-count__btn")){
    e.preventDefault();
    modal.open();
  }
})
$(function () {  
  $(document).ready(function(){
    $(".owl-carousel").owlCarousel({
      items: 1,
      loop: true,
      mouseDrag: false,
      touchDrag: false,
      pullDrag: false,
      autoplay: true,
      animateOut: 'fadeOut'
    });
  });

  $(window).scroll(function(){
    if ($(this).scrollTop() > 200 && $(this).width() > 768) {
        $('.scrolled').addClass("is-active");
    } else if ($(this).scrollTop() > 360 && $(this).width() < 768) {
      $('.scrolled').addClass("is-active");
    }
    else {
        $('.scrolled').removeClass("is-active");
    }
  });
  
  let menuBtn = document.querySelector(".toggle-menu");
  let topMenu = document.querySelector(".menu__list");
  let scrolledBtn = document.querySelector(".catalog");
  let scrolledMenu = document.querySelector(".scrolled__goods")
  menuBtn.addEventListener('click', ()=>{ 
    toggleMenu(menuBtn, topMenu);
  })
  scrolledBtn.addEventListener('click', ()=>{ 
    toggleMenu(scrolledBtn, scrolledMenu);
  })


  function toggleMenu(btn, menu) {
    if (btn.classList.contains("is-active")){
      btn.classList.remove("is-active");
      menu.style.maxHeight ="";
    } else {
      btn.classList.add("is-active");
      menu.style.maxHeight = "none";      
      }
    }
    $(".choise__select").selectmenu();
    $(".choise__input").checkboxradio({
      icon: false
    });
  
    $(".ui-slider").slider({
      min: 0,
      max: 9999,
      values: [0,9999],
      range: true,
      stop: function(event, ui) {
        $(".filter__price-min").val($(".ui-slider").slider("values",0));
        $(".filter__price-max").val($(".ui-slider").slider("values",1));
      },
      slide: function(event, ui){
          $(".filter__price-min").val($(".ui-slider").slider("values",0));
          $(".filter__price-max").val($(".ui-slider").slider("values",1));
      }
    })
        
    const selects = document.querySelectorAll('.select');
    for (let i=0; i <= selects.length; i++) {
      $(`#select${i}`).ddslick({
        width: "auto",
        background: 'none'
      })
    };

    $(".product-count__plus").click(function(){
      let input = $(this).siblings(".product-count__num");
      input.val(+input.val()+1);
    })
    $(".product-count__minus").click(function(){
      let input = $(this).siblings(".product-count__num");
      if(input.val()>1){
        input.val(input.val()-1);
      }
    })    
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGFsLmpzIiwic2NyaXB0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDaERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9kYWwgPSAoZnVuY3Rpb24oKXtcclxuICBsZXQgbW9kYWxCbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxcIik7XHJcbiAgbGV0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xyXG4gIGxldCBhY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgZnVuY3Rpb24gb3Blbk1vZGFsKCkge1xyXG4gICAgYm9keS5jbGFzc0xpc3QuYWRkKFwibG9ja2VkXCIpO1xyXG4gICAgYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQgPSBzY3JvbGxXaWR0aCgpK1wicHhcIjtcclxuICAgIG1vZGFsQmxvY2suY2xhc3NMaXN0LmFkZChcImlzLWFjdGl2ZVwiKTtcclxuICAgIGFjdGl2ZSA9IHRydWU7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGNsb3NlTW9kYWwoKSB7XHJcbiAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJsb2NrZWRcIik7XHJcbiAgICBib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IFwiMFwiO1xyXG4gICAgbW9kYWxCbG9jay5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtYWN0aXZlXCIpO1xyXG4gICAgYWN0aXZlID0gZmFsc2U7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIHNjcm9sbFdpZHRoKCl7XHJcbiAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBkaXYuc3R5bGUub3ZlcmZsb3dZID0gJ3Njcm9sbCc7XHJcbiAgICBkaXYuc3R5bGUud2lkdGggPSAnNTBweCc7XHJcbiAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gJzUwcHgnO1xyXG4gICAgZGl2LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgIGxldCB3aWR0aCA9IGRpdi5vZmZzZXRXaWR0aCAtIGRpdi5jbGllbnRXaWR0aDtcclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZGl2KTtcclxuICAgIHJldHVybiB3aWR0aDtcclxuICB9XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKT0+e1xyXG4gICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlXCIpKXtcclxuICAgICAgY2xvc2VNb2RhbCgpO1xyXG4gICAgfVxyXG4gIH0pXHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpe1xyXG4gICAgaWYgKGUua2V5Q29kZSA9PSAyNyAmJiBhY3RpdmUpIHtcclxuICAgICAgY2xvc2VNb2RhbCgpO1xyXG4gICAgfVxyXG4gIH0pXHJcbiAgcmV0dXJuIHtcclxuICAgIG9wZW4gOiBvcGVuTW9kYWxcclxuICB9XHJcbn0oKSk7XHJcblxyXG5kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSk9PiB7XHJcbiAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicHJvZHVjdC1jb3VudF9fYnRuXCIpKXtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIG1vZGFsLm9wZW4oKTtcclxuICB9XHJcbn0pIiwiJChmdW5jdGlvbiAoKSB7ICBcclxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG4gICAgJChcIi5vd2wtY2Fyb3VzZWxcIikub3dsQ2Fyb3VzZWwoe1xyXG4gICAgICBpdGVtczogMSxcclxuICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgbW91c2VEcmFnOiBmYWxzZSxcclxuICAgICAgdG91Y2hEcmFnOiBmYWxzZSxcclxuICAgICAgcHVsbERyYWc6IGZhbHNlLFxyXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgYW5pbWF0ZU91dDogJ2ZhZGVPdXQnXHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpe1xyXG4gICAgaWYgKCQodGhpcykuc2Nyb2xsVG9wKCkgPiAyMDAgJiYgJCh0aGlzKS53aWR0aCgpID4gNzY4KSB7XHJcbiAgICAgICAgJCgnLnNjcm9sbGVkJykuYWRkQ2xhc3MoXCJpcy1hY3RpdmVcIik7XHJcbiAgICB9IGVsc2UgaWYgKCQodGhpcykuc2Nyb2xsVG9wKCkgPiAzNjAgJiYgJCh0aGlzKS53aWR0aCgpIDwgNzY4KSB7XHJcbiAgICAgICQoJy5zY3JvbGxlZCcpLmFkZENsYXNzKFwiaXMtYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgJCgnLnNjcm9sbGVkJykucmVtb3ZlQ2xhc3MoXCJpcy1hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgXHJcbiAgbGV0IG1lbnVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZ2dsZS1tZW51XCIpO1xyXG4gIGxldCB0b3BNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51X19saXN0XCIpO1xyXG4gIGxldCBzY3JvbGxlZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2F0YWxvZ1wiKTtcclxuICBsZXQgc2Nyb2xsZWRNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zY3JvbGxlZF9fZ29vZHNcIilcclxuICBtZW51QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PnsgXHJcbiAgICB0b2dnbGVNZW51KG1lbnVCdG4sIHRvcE1lbnUpO1xyXG4gIH0pXHJcbiAgc2Nyb2xsZWRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+eyBcclxuICAgIHRvZ2dsZU1lbnUoc2Nyb2xsZWRCdG4sIHNjcm9sbGVkTWVudSk7XHJcbiAgfSlcclxuXHJcblxyXG4gIGZ1bmN0aW9uIHRvZ2dsZU1lbnUoYnRuLCBtZW51KSB7XHJcbiAgICBpZiAoYnRuLmNsYXNzTGlzdC5jb250YWlucyhcImlzLWFjdGl2ZVwiKSl7XHJcbiAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtYWN0aXZlXCIpO1xyXG4gICAgICBtZW51LnN0eWxlLm1heEhlaWdodCA9XCJcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKFwiaXMtYWN0aXZlXCIpO1xyXG4gICAgICBtZW51LnN0eWxlLm1heEhlaWdodCA9IFwibm9uZVwiOyAgICAgIFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAkKFwiLmNob2lzZV9fc2VsZWN0XCIpLnNlbGVjdG1lbnUoKTtcclxuICAgICQoXCIuY2hvaXNlX19pbnB1dFwiKS5jaGVja2JveHJhZGlvKHtcclxuICAgICAgaWNvbjogZmFsc2VcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgJChcIi51aS1zbGlkZXJcIikuc2xpZGVyKHtcclxuICAgICAgbWluOiAwLFxyXG4gICAgICBtYXg6IDk5OTksXHJcbiAgICAgIHZhbHVlczogWzAsOTk5OV0sXHJcbiAgICAgIHJhbmdlOiB0cnVlLFxyXG4gICAgICBzdG9wOiBmdW5jdGlvbihldmVudCwgdWkpIHtcclxuICAgICAgICAkKFwiLmZpbHRlcl9fcHJpY2UtbWluXCIpLnZhbCgkKFwiLnVpLXNsaWRlclwiKS5zbGlkZXIoXCJ2YWx1ZXNcIiwwKSk7XHJcbiAgICAgICAgJChcIi5maWx0ZXJfX3ByaWNlLW1heFwiKS52YWwoJChcIi51aS1zbGlkZXJcIikuc2xpZGVyKFwidmFsdWVzXCIsMSkpO1xyXG4gICAgICB9LFxyXG4gICAgICBzbGlkZTogZnVuY3Rpb24oZXZlbnQsIHVpKXtcclxuICAgICAgICAgICQoXCIuZmlsdGVyX19wcmljZS1taW5cIikudmFsKCQoXCIudWktc2xpZGVyXCIpLnNsaWRlcihcInZhbHVlc1wiLDApKTtcclxuICAgICAgICAgICQoXCIuZmlsdGVyX19wcmljZS1tYXhcIikudmFsKCQoXCIudWktc2xpZGVyXCIpLnNsaWRlcihcInZhbHVlc1wiLDEpKTtcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgICAgICBcclxuICAgIGNvbnN0IHNlbGVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0Jyk7XHJcbiAgICBmb3IgKGxldCBpPTA7IGkgPD0gc2VsZWN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAkKGAjc2VsZWN0JHtpfWApLmRkc2xpY2soe1xyXG4gICAgICAgIHdpZHRoOiBcImF1dG9cIixcclxuICAgICAgICBiYWNrZ3JvdW5kOiAnbm9uZSdcclxuICAgICAgfSlcclxuICAgIH07XHJcblxyXG4gICAgJChcIi5wcm9kdWN0LWNvdW50X19wbHVzXCIpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgIGxldCBpbnB1dCA9ICQodGhpcykuc2libGluZ3MoXCIucHJvZHVjdC1jb3VudF9fbnVtXCIpO1xyXG4gICAgICBpbnB1dC52YWwoK2lucHV0LnZhbCgpKzEpO1xyXG4gICAgfSlcclxuICAgICQoXCIucHJvZHVjdC1jb3VudF9fbWludXNcIikuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgbGV0IGlucHV0ID0gJCh0aGlzKS5zaWJsaW5ncyhcIi5wcm9kdWN0LWNvdW50X19udW1cIik7XHJcbiAgICAgIGlmKGlucHV0LnZhbCgpPjEpe1xyXG4gICAgICAgIGlucHV0LnZhbChpbnB1dC52YWwoKS0xKTtcclxuICAgICAgfVxyXG4gICAgfSkgICAgXHJcbn0pOyJdfQ==
