const modal = (function(){
  let modalBlock = document.querySelector(".modal");
  let body = document.body;
  let active = false;

  function openModal() {
    body.classList.add("locked");
    body.style.paddingRight = scrollWidth()+"px";
    modalBlock.classList.add("is-active");
    active = true;
  }
  function closeModal() {
    body.classList.remove("locked");
    body.style.paddingRight = "0";
    modalBlock.classList.remove("is-active");
    active = false;
  }
  function scrollWidth(){
    let div = document.createElement('div');
    div.style.overflowY = 'scroll';
    div.style.width = '50px';
    div.style.height = '50px';
    div.style.visibility = 'hidden';
    document.body.appendChild(div);
    let width = div.offsetWidth - div.clientWidth;
    document.body.removeChild(div);
    return width;
  }
  document.addEventListener("click", (e)=>{
    if(e.target.classList.contains("modal__close")){
      closeModal();
    }
  })
  document.addEventListener('keydown', function(e){
    if (e.keyCode == 27 && active) {
      closeModal();
    }
  })
  return {
    open : openModal
  }
}());

document.body.addEventListener("click", (e)=> {
  if(e.target.classList.contains("catalog__count-btn")){
    e.preventDefault();
    modal.open();
  }
})



$(function () {  
  $(document).ready(function(){
    $(".owl-carousel").owlCarousel({
      items: 1,
      loop: true,
      mouseDrag: false,
      touchDrag: false,
      pullDrag: false,
      autoplay: true,
      animateOut: 'fadeOut'
    });
  });

  $(window).scroll(function(){
    if ($(this).scrollTop() > 200 && $(this).width() > 768) {
        $('.scrolled').addClass("is-active");
    } else if ($(this).scrollTop() > 360 && $(this).width() < 768) {
      $('.scrolled').addClass("is-active");
    }
    else {
        $('.scrolled').removeClass("is-active");
    }
  });
  
  let menuBtn = document.querySelector(".toggle-menu");
  let topMenu = document.querySelector(".menu__list");
  let scrolledBtn = document.querySelector(".catalog");
  let scrolledMenu = document.querySelector(".scrolled__goods")
  menuBtn.addEventListener('click', ()=>{ 
    toggleMenu(menuBtn, topMenu);
  })
  scrolledBtn.addEventListener('click', ()=>{ 
    toggleMenu(scrolledBtn, scrolledMenu);
  })


  function toggleMenu(btn, menu) {
    if (btn.classList.contains("is-active")){
      btn.classList.remove("is-active");
      menu.style.maxHeight ="";
    } else {
      btn.classList.add("is-active");
      menu.style.maxHeight = "none";      
      }
    }
    $(".choise__select").selectmenu();
    $(".choise__input").checkboxradio({
      icon: false
    });
  
    $(".ui-slider").slider({
      min: 0,
      max: 9999,
      values: [0,9999],
      range: true,
      stop: function(event, ui) {
        $(".filter__price-min").val($(".ui-slider").slider("values",0));
        $(".filter__price-max").val($(".ui-slider").slider("values",1));
      },
      slide: function(event, ui){
          $(".filter__price-min").val($(".ui-slider").slider("values",0));
          $(".filter__price-max").val($(".ui-slider").slider("values",1));
      }
    })
        
    const selects = document.querySelectorAll('.select');
    for (let i=0; i <= selects.length; i++) {
      $(`#select${i}`).ddslick({
        width: "auto",
        background: 'none'
      })
    };

    $(".catalog__plus").click(function(){
      let input = $(this).siblings(".catalog__count-num");
      input.val(+input.val()+1);
    })
    $(".catalog__minus").click(function(){
      let input = $(this).siblings(".catalog__count-num");
      if(input.val()>1){
        input.val(input.val()-1);
      }
    })
    
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGFsLmpzIiwic2NyaXB0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDbkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb2RhbCA9IChmdW5jdGlvbigpe1xyXG4gIGxldCBtb2RhbEJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbFwiKTtcclxuICBsZXQgYm9keSA9IGRvY3VtZW50LmJvZHk7XHJcbiAgbGV0IGFjdGl2ZSA9IGZhbHNlO1xyXG5cclxuICBmdW5jdGlvbiBvcGVuTW9kYWwoKSB7XHJcbiAgICBib2R5LmNsYXNzTGlzdC5hZGQoXCJsb2NrZWRcIik7XHJcbiAgICBib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IHNjcm9sbFdpZHRoKCkrXCJweFwiO1xyXG4gICAgbW9kYWxCbG9jay5jbGFzc0xpc3QuYWRkKFwiaXMtYWN0aXZlXCIpO1xyXG4gICAgYWN0aXZlID0gdHJ1ZTtcclxuICB9XHJcbiAgZnVuY3Rpb24gY2xvc2VNb2RhbCgpIHtcclxuICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImxvY2tlZFwiKTtcclxuICAgIGJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0ID0gXCIwXCI7XHJcbiAgICBtb2RhbEJsb2NrLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1hY3RpdmVcIik7XHJcbiAgICBhY3RpdmUgPSBmYWxzZTtcclxuICB9XHJcbiAgZnVuY3Rpb24gc2Nyb2xsV2lkdGgoKXtcclxuICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGRpdi5zdHlsZS5vdmVyZmxvd1kgPSAnc2Nyb2xsJztcclxuICAgIGRpdi5zdHlsZS53aWR0aCA9ICc1MHB4JztcclxuICAgIGRpdi5zdHlsZS5oZWlnaHQgPSAnNTBweCc7XHJcbiAgICBkaXYuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgbGV0IHdpZHRoID0gZGl2Lm9mZnNldFdpZHRoIC0gZGl2LmNsaWVudFdpZHRoO1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkaXYpO1xyXG4gICAgcmV0dXJuIHdpZHRoO1xyXG4gIH1cclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpPT57XHJcbiAgICBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9fY2xvc2VcIikpe1xyXG4gICAgICBjbG9zZU1vZGFsKCk7XHJcbiAgICB9XHJcbiAgfSlcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZSl7XHJcbiAgICBpZiAoZS5rZXlDb2RlID09IDI3ICYmIGFjdGl2ZSkge1xyXG4gICAgICBjbG9zZU1vZGFsKCk7XHJcbiAgICB9XHJcbiAgfSlcclxuICByZXR1cm4ge1xyXG4gICAgb3BlbiA6IG9wZW5Nb2RhbFxyXG4gIH1cclxufSgpKTtcclxuXHJcbmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKT0+IHtcclxuICBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXRhbG9nX19jb3VudC1idG5cIikpe1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbW9kYWwub3BlbigpO1xyXG4gIH1cclxufSlcclxuXHJcblxyXG4iLCIkKGZ1bmN0aW9uICgpIHsgIFxyXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgICAkKFwiLm93bC1jYXJvdXNlbFwiKS5vd2xDYXJvdXNlbCh7XHJcbiAgICAgIGl0ZW1zOiAxLFxyXG4gICAgICBsb29wOiB0cnVlLFxyXG4gICAgICBtb3VzZURyYWc6IGZhbHNlLFxyXG4gICAgICB0b3VjaERyYWc6IGZhbHNlLFxyXG4gICAgICBwdWxsRHJhZzogZmFsc2UsXHJcbiAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICBhbmltYXRlT3V0OiAnZmFkZU91dCdcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCl7XHJcbiAgICBpZiAoJCh0aGlzKS5zY3JvbGxUb3AoKSA+IDIwMCAmJiAkKHRoaXMpLndpZHRoKCkgPiA3NjgpIHtcclxuICAgICAgICAkKCcuc2Nyb2xsZWQnKS5hZGRDbGFzcyhcImlzLWFjdGl2ZVwiKTtcclxuICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5zY3JvbGxUb3AoKSA+IDM2MCAmJiAkKHRoaXMpLndpZHRoKCkgPCA3NjgpIHtcclxuICAgICAgJCgnLnNjcm9sbGVkJykuYWRkQ2xhc3MoXCJpcy1hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAkKCcuc2Nyb2xsZWQnKS5yZW1vdmVDbGFzcyhcImlzLWFjdGl2ZVwiKTtcclxuICAgIH1cclxuICB9KTtcclxuICBcclxuICBsZXQgbWVudUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9nZ2xlLW1lbnVcIik7XHJcbiAgbGV0IHRvcE1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnVfX2xpc3RcIik7XHJcbiAgbGV0IHNjcm9sbGVkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXRhbG9nXCIpO1xyXG4gIGxldCBzY3JvbGxlZE1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNjcm9sbGVkX19nb29kc1wiKVxyXG4gIG1lbnVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+eyBcclxuICAgIHRvZ2dsZU1lbnUobWVudUJ0biwgdG9wTWVudSk7XHJcbiAgfSlcclxuICBzY3JvbGxlZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57IFxyXG4gICAgdG9nZ2xlTWVudShzY3JvbGxlZEJ0biwgc2Nyb2xsZWRNZW51KTtcclxuICB9KVxyXG5cclxuXHJcbiAgZnVuY3Rpb24gdG9nZ2xlTWVudShidG4sIG1lbnUpIHtcclxuICAgIGlmIChidG4uY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXMtYWN0aXZlXCIpKXtcclxuICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1hY3RpdmVcIik7XHJcbiAgICAgIG1lbnUuc3R5bGUubWF4SGVpZ2h0ID1cIlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJpcy1hY3RpdmVcIik7XHJcbiAgICAgIG1lbnUuc3R5bGUubWF4SGVpZ2h0ID0gXCJub25lXCI7ICAgICAgXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgICQoXCIuY2hvaXNlX19zZWxlY3RcIikuc2VsZWN0bWVudSgpO1xyXG4gICAgJChcIi5jaG9pc2VfX2lucHV0XCIpLmNoZWNrYm94cmFkaW8oe1xyXG4gICAgICBpY29uOiBmYWxzZVxyXG4gICAgfSk7XHJcbiAgXHJcbiAgICAkKFwiLnVpLXNsaWRlclwiKS5zbGlkZXIoe1xyXG4gICAgICBtaW46IDAsXHJcbiAgICAgIG1heDogOTk5OSxcclxuICAgICAgdmFsdWVzOiBbMCw5OTk5XSxcclxuICAgICAgcmFuZ2U6IHRydWUsXHJcbiAgICAgIHN0b3A6IGZ1bmN0aW9uKGV2ZW50LCB1aSkge1xyXG4gICAgICAgICQoXCIuZmlsdGVyX19wcmljZS1taW5cIikudmFsKCQoXCIudWktc2xpZGVyXCIpLnNsaWRlcihcInZhbHVlc1wiLDApKTtcclxuICAgICAgICAkKFwiLmZpbHRlcl9fcHJpY2UtbWF4XCIpLnZhbCgkKFwiLnVpLXNsaWRlclwiKS5zbGlkZXIoXCJ2YWx1ZXNcIiwxKSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNsaWRlOiBmdW5jdGlvbihldmVudCwgdWkpe1xyXG4gICAgICAgICAgJChcIi5maWx0ZXJfX3ByaWNlLW1pblwiKS52YWwoJChcIi51aS1zbGlkZXJcIikuc2xpZGVyKFwidmFsdWVzXCIsMCkpO1xyXG4gICAgICAgICAgJChcIi5maWx0ZXJfX3ByaWNlLW1heFwiKS52YWwoJChcIi51aS1zbGlkZXJcIikuc2xpZGVyKFwidmFsdWVzXCIsMSkpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgY29uc3Qgc2VsZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3QnKTtcclxuICAgIGZvciAobGV0IGk9MDsgaSA8PSBzZWxlY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICQoYCNzZWxlY3Qke2l9YCkuZGRzbGljayh7XHJcbiAgICAgICAgd2lkdGg6IFwiYXV0b1wiLFxyXG4gICAgICAgIGJhY2tncm91bmQ6ICdub25lJ1xyXG4gICAgICB9KVxyXG4gICAgfTtcclxuXHJcbiAgICAkKFwiLmNhdGFsb2dfX3BsdXNcIikuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgbGV0IGlucHV0ID0gJCh0aGlzKS5zaWJsaW5ncyhcIi5jYXRhbG9nX19jb3VudC1udW1cIik7XHJcbiAgICAgIGlucHV0LnZhbCgraW5wdXQudmFsKCkrMSk7XHJcbiAgICB9KVxyXG4gICAgJChcIi5jYXRhbG9nX19taW51c1wiKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICBsZXQgaW5wdXQgPSAkKHRoaXMpLnNpYmxpbmdzKFwiLmNhdGFsb2dfX2NvdW50LW51bVwiKTtcclxuICAgICAgaWYoaW5wdXQudmFsKCk+MSl7XHJcbiAgICAgICAgaW5wdXQudmFsKGlucHV0LnZhbCgpLTEpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgXHJcbn0pOyJdfQ==
